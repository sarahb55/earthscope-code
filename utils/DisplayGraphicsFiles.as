package earthscope.utils{		import flash.display.*;	import flash.net.URLRequest;	import flash.events.Event;	import earthscope.utils.DraggableSprite;	import flash.geom.Point;	import flash.filters.DropShadowFilter;	import flash.events.MouseEvent;			public class DisplayGraphicsFiles extends Sprite{				private var _file:String;		var _graphic:DraggableSprite = new DraggableSprite();		var _loader:Loader = new Loader();		var _urlRequest:URLRequest;		var _startingPoint:Point;		var _button:Boolean = false;								public function DisplayGraphicsFiles(){			super();		}				public function loadFile(file:String, drag:Boolean = false){						_file = file;			 try{			_urlRequest = new URLRequest(file);			_loader = new Loader();						_loader.load(_urlRequest);			_loader.contentLoaderInfo.addEventListener(Event.COMPLETE, fileLoaded); 			addChild(_graphic);			_graphic.addEventListener(MouseEvent.MOUSE_OVER, over);			_graphic.addEventListener(MouseEvent.MOUSE_OUT, out);						if(drag == true){								_graphic.addEventListener(MouseEvent.MOUSE_DOWN, pickup);				_graphic.addEventListener(MouseEvent.MOUSE_UP, place);							}						 }			 catch(Error){				 			 }					}				public function set button(val:Boolean):void{						_button = val;						if(_button){								_graphic.useHandCursor = true;			}			else{								_graphic.useHandCursor = false;			}					}						public function getWidth(){						return _graphic.width;		}							public function fileLoaded(Event):void{						_graphic.addChild(_loader.content);					}				private function over(event:MouseEvent):void{			if(_button == true){				event.target.filters = [new DropShadowFilter() ] ;			}		}				private function out(event:MouseEvent):void{			event.target.filters = null ;		}				public function pickup(event:MouseEvent){									_startingPoint = new Point();			_startingPoint.x = event.target.x;			_startingPoint.y = event.target.y;						event.target.drag();			event.target.filters = [new DropShadowFilter() ] ;						setChildIndex(DisplayObject(event.target), numChildren -1);			trace("pickup");								}				public function place(event:MouseEvent){												trace("place");			event.target.drop();			event.target.filters = null;								}					}					}