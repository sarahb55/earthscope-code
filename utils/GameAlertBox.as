package earthscope.utils {        //Imports    import flash.display.Shape;    import flash.display.Sprite;    import flash.geom.Rectangle;    import flash.events.MouseEvent;	import flash.text.TextField;	import flash.text.TextFieldAutoSize;    import flash.text.TextFormat;	import flash.ui.Mouse;	import flash.filters.*;	import flash.net.*;	import earthscope.utils.SmallGameButton;	import earthscope.utils.DisplayGraphicsFiles;	import earthscope.text.GameText;	import earthscope.events.PlayerDecidesEvent;	import flash.events.EventDispatcher;	import flash.events.Event;	import flash.events.*;	import flash.text.*;	import flash.display.*;	import flash.text.*;		import flash.filters.DropShadowFilter;	import flash.geom.ColorTransform;	import earthscope.utils.SoundPlayer;		import earthscope.utils.GameButtonBamboo;			        //Class    public class GameAlertBox extends Sprite {                //Vars        protected var _box:Sprite = new Sprite();		protected var _holder:Sprite = new Sprite();		protected var _cancel:DisplayGraphicsFiles;        protected var _yesBtn:GameButtonBamboo;		protected var _noBtn:GameButtonBamboo;				protected var _textMessage:TextField;		protected var _msg:String;		protected var _file:String;		protected var _textYes:TextField;		protected var _textNo:TextField;		protected var _textCancel:TextField;				protected var _padding:Number;		protected var _btnHeight:Number;		protected var _btnWidth:Number;		protected var _clickedYes:Boolean = false;		protected var _clickedNo:Boolean = false;		protected var _clickedCancel:Boolean = false;		protected var _clicked = false;		protected var _loader:URLLoader;		protected var _format:TextFormat;		var myFont:Font = new Fertigo();		var hBox:Number = 40;		var _oneBtn:Boolean = false;		var _sound:SoundPlayer = new SoundPlayer();		 public function GameAlertBox(){			 			 super();			 			 addChild(_holder);			 			 _yesBtn = new GameButtonBamboo(0, 0, 40, 60, "yes");			 _noBtn = new GameButtonBamboo(0, 0, 40, 60, "no");			 			 _sound.loadSound("sounds/alert.mp3");						 //_box.scaleX *= 0.5;    		// _box.scaleY *= 0.85;						//_cancel = new DisplayGraphicsFiles();			//_cancel.loadFile(GameText.PICTURE_DIRECTORY + GameText.CANCEL_BOX, false);			//_cancel.x = _box.x + 25;			//_cancel.y = _box.y + 25;									 			 			        			 		}		 		 public function onClose(MouseEvent):void{			 			 removeChild(_box);			 		 }		 		 public function loadText(file:String){			 			 _textMessage  = new TextField();			 addChild(_textMessage);			 			 _loader = new URLLoader();			 _loader.addEventListener(Event.COMPLETE, handleComplete);			 _loader.load(new URLRequest(file));			 _loader.dataFormat = URLLoaderDataFormat.TEXT;			 			 format();			 trace (_textMessage.width + _textMessage.height);			 _box.addChild(_textMessage);			 			 						 		 }		 		 private function handleComplete(event:Event){						  _textMessage.text = _loader.data;						  			  var hBox:Number = 14*(_textMessage.numLines) + 150 ;									 with(_box.graphics){				                 				lineStyle(2, 0x66FF00);				beginFill(GameText.GREEN, 1.0);                drawRoundRect(0, 0, 650, hBox, 20);                endFill();				 			 }			 			 			  addChild(_box);			 //_box.addChild(_cancel);			 			 //_cancel.addEventListener(MouseEvent.CLICK, onClose);			 			 									 			_yesBtn.addEventListener(MouseEvent.CLICK, yesClickHandler);			_noBtn.addEventListener(MouseEvent.CLICK, noClickHandler);						var drop:DropShadowFilter = new DropShadowFilter();			var _filters:Array = [drop];						_box.filters = _filters;						_box.addChild(_yesBtn);						_yesBtn.x = _box.x + 55;			_noBtn.x = _box.x + 300;						_yesBtn.y = _box.y + _box.height - 70;			_noBtn.y =  _yesBtn.y;						if(_oneBtn == false){						 _box.addChild(_noBtn);			}									_sound.play();								 }		 				 		public function format(){									_textMessage.textColor = 0x000000;			_textMessage.wordWrap = true;			_textMessage.width = 550;						_textMessage.autoSize = TextFieldAutoSize.CENTER;						_format = new TextFormat();			//_format.font = myFont.fontName;									_textMessage.x = _box.x + 55;			_textMessage.y = _box.y + 55;			_format = new TextFormat();			//_format.font = myFont.fontName;			//_textMessage.embedFonts = true;			_format.size = 16;			_format.color = GameText.WHITE;			_textMessage.defaultTextFormat = _format;		}				public function yesClickHandler(MouseEvent):void{						_clickedYes = true;			trace("Yes clicked");			dispatchEvent(new PlayerDecidesEvent(PlayerDecidesEvent.CHOOSE_YES));			removeChild(_box);		}				public function noClickHandler(MouseEvent):void{			_clickedYes = false;			dispatchEvent(new PlayerDecidesEvent(PlayerDecidesEvent.CHOOSE_NO));			removeChild(_box);								}				public function get yes():Boolean{						return _clickedYes;		}				public function set textYes(val:String):void{						_yesBtn.label = val;						if(val.length > 10){								_yesBtn.x = _textMessage.x;			}		}				public function set oneButton(val:Boolean):void{			_oneBtn = val;						if(_oneBtn == false){				_box.addChild(_noBtn);							}			else{				 _yesBtn.x = _box.width/2;			}					}		      }	}