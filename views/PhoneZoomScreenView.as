package earthscope.views{	import earthscope.controller.GameEngine;	import earthscope.utils.AlertBox;	import earthscope.models.VolcanoData;	import earthscope.models.MonitorData;	import earthscope.models.TownData;	import earthscope.events.VolcanoEruptsEvent;	import earthscope.utils.SeismoGraph;	import earthscope.utils.GPSMonitor;	import earthscope.utils.GameButton;	import earthscope.utils.DisplayGraphicsFiles;	import earthscope.text.GameText;	import flash.display.Sprite;	import flash.events.MouseEvent;	import earthscope.utils.PlayVideos;	import earthscope.utils.GameButton;	import earthscope.utils.DisplayGraphicsFiles;	import earthscope.utils.GameAlertBox;	import earthscope.events.PlayerDecidesEvent;	public class PhoneZoomScreenView extends Sprite {		private var _game:GameEngine;		private var _back:DisplayGraphicsFiles;		private var _monitor:MonitorData;		private var _doneBtn:GameButton;		private var _evacuteBtn:GameButton;		private var _warnBtn:GameButton;		private var _advisorBtn:GameButton;		private var _player;		private var _alert:GameAlertBox;		private var _town:TownData;		public function PhoneZoomScreenView(game:GameEngine, town:TownData) {			_game = game;			_town = town;			_back = new DisplayGraphicsFiles() ;			_back.loadFile(GameText.PICTURE_DIRECTORY + GameText.PHONE_ZOOM_BACKGROUND);			_back.y = GameText.BACK_Y;			_back.x = GameText.BACK_X;			addChild(_back);			_doneBtn = new GameButton(400, 360, 50, 100, GameText.PREVIOUS_SCREEN);			_doneBtn.addEventListener(MouseEvent.CLICK, onDone);			addChild(_doneBtn);			_evacuteBtn = new GameButton(400, 260, 50, 100, GameText.EVACUATE_ISLAND);			_evacuteBtn.addEventListener(MouseEvent.CLICK, onEvacuate);			addChild(_evacuteBtn);			_warnBtn = new GameButton(400, 160, 50, 100, GameText.EVACUATION_WARNING);						addChild(_warnBtn);			_advisorBtn = new GameButton(400, 60, 50, 100, GameText.REQUEST_ADVISOR);			_advisorBtn.addEventListener(MouseEvent.CLICK, onAdvisor);			addChild(_advisorBtn);		}		public function onEnterPhoneZoomScreen() {			if(_game.warned == false){								_warnBtn.label = GameText.EVACUATION_WARNING;							}			else{				_warnBtn.label = GameText.CANCEL_WARNING;							}						_warnBtn.addEventListener(MouseEvent.CLICK, onWarn);					}		public function onExitPhoneZoomScreen() {			//stop any animations		}		private function onDone(MouseEvent):void {				onExitPhoneZoomScreen();				_game.onExitPhoneZoomScreen();				_game.onEnterGameScreen();		}		private function onWarn(MouseEvent):void {			_alert = new GameAlertBox();			_alert.x = 200;			_alert.y  = 40;			addChild(_alert);						trace (_town.warned + " from phone warned..");						if(_town.warned == false){				_alert.loadText(GameText.TEXT_DIRECTORY + GameText.CHECK_WARNING);				_alert.addEventListener(PlayerDecidesEvent.CHOOSE_YES, onIssueWarning);				trace("town not warned...");			}			else{				_alert.loadText(GameText.TEXT_DIRECTORY + GameText.CHECK_CANCEL_WARNING);				_alert.addEventListener(PlayerDecidesEvent.CHOOSE_YES, onCancelWarning);							}						_alert.addEventListener(PlayerDecidesEvent.CHOOSE_NO, onNotYet);		}				private function onNotYet(PlayerDecidesEvent):void{						//nothing to do here yet					}				private function onCancelWarning(PlayerDecidesEvent):void{									_game.cancelVolcanoEvacuationWarning();			_warnBtn.label = GameText.EVACUATION_WARNING;		}						private function onIssueWarning(PlayerDecidesEvent):void{									_game.issueVolcanoEvacuationWarning();					}						private function  onOrderEvacuation(PlayerDecidesEvent):void{						_game.evacuateTown();					}				private function onEvacuate(MouseEvent):void {			_alert = new GameAlertBox();			addChild(_alert);			_alert.loadText(GameText.TEXT_DIRECTORY + GameText.CHECK_EVACUATION_ORDER);			_alert.x = 200;			_alert.y  = 70;						_alert.addEventListener(PlayerDecidesEvent.CHOOSE_YES, onOrderEvacuation);			_alert.addEventListener(PlayerDecidesEvent.CHOOSE_NO, onNotYet);		}		private function onAdvisor(MouseEvent):void {						_game.requestScienceAdvisor();		}	}}